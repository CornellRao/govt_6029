gapminder$lifeExp
mean(gapminder$lifeExp)
median(gapminder$lifeExp)
sd(gapminder$lifeExp)
min(gapminder$lifeExp)
max(gapminder$lifeExp)
quantile(gapminder$lifeExp)
quantile(gapminder$lifeExp, c(5))
quantile(gapminder$lifeExp, c(.5))
summary(gapminder$gdpPercap)
mean(gapminder$gdpPercap)
quantile(gapminder$gdpPercap, c(.3))
quantile(gapminder$gdpPercap, c(.3, .25, .39))
c<- 5
num<- 5
num <- c(3,5,6)
foo <- c(1, 2, NA, 3, 4)
foo
mean(foo)
library("dplyr")
library("ggplot2")
library("gapminder")
glimpse(gapminder)
tbl_df(gapminder)
filter(gapminder, lifeExp < 29)
filter(gapminder, country == "Rwanda")
filter(gapminder, continent == "Africa", year < 1966, lifeExp < 40)
filter(gapminder, continent == "Africa" & year < 1966 & lifeExp < 40)
filter(gapminder, country == "Afghanistan" | country == "Albania")
select(gapminder, year, lifeExp)
gapminder %>% select(year, lifeExp)
gapminder %>%
filter(country == "Cambodia") %>%
select(year, lifeExp) %>%
slice(1:2)
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder <-   gapminder %>%
mutate(gdp = pop * gdpPercap)
data <- c(7,6,5,5,9,10,11,10,9)
data <- data.frame( x= c(7,6,5,5,9,10,11,10,9))
data <- data.frame( y = c(7,6,5,5,9,10,11,10,9))
ggplot(data, aes(y = y))+ geom_boxplot()
boxplot(data)
summary(data)
data
data <- data.frame( y = c(7,6,5,5,9,10,11,10,9))
data <- data.frame( y = c(5,5,6,7,9,9,10,10,11))
summary(data)
install.packages("gganimate")
library(gganimate)
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~continent) +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
library(gapminder)
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~continent) +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
install.packages("gifski")
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~continent) +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~continent)
?ease_aes
frame_time
gapminder
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~ continent) +
theme_bw()
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~ continent) +
theme_bw() +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~ continent) +
theme_bw() +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~ continent) +
theme_bw()
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~ continent) +
transition_time(year) +
theme_bw()
?transition_time
library(tidyverse)
gapminder$lifeExp
foo <- c(1, 2, NA, 3, 4)
data(package = "tidyverse")
data(package = "ggplot2")
filter(gapminder, lifeExp < 29)
filter(gapminder, country == "Rwanda")
select(gapminder, year, lifeExp)
filter(gapminder, lifeExp < 29)
filter(gapminder, country == "Rwanda")
filter(gapminder, continent == "Africa" & year < 1966 & lifeExp < 40)
filter(gapminder, country == "Afghanistan" | country == "Albania")
select(gapminder, year, lifeExp)
gapminder %>%
filter(., country == "Cambodia") %>%
select(., year, lifeExp) %>%
slice(.,1:2)
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder %>% glimpse
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_gdpPercap = gdpPercap,
usa_lifeExp = lifeExp)
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder %>%
select(gdpPercapRel) %>%
summary
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
filter(country == c("Canada")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel) %>%
glimpse()
gapminder %>%
filter(country == c("Mexico")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel) %>%
glimpse()
gapminder %>%
arrange(year, country) %>%
glimpse()
gapminder %>%
filter(year == 2007) %>%
arrange(- lifeExp) %>%
glimpse()
gapminder %>%
filter(year == 2007) %>%
arrange(- lifeExp)
# DO NOT ALTER CODE IN THIS CHUNK
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(gapminder)
data(package = "gapminder")
data(package = "gapminder")
data("gapminder")
glimpse(gapminder)
filter(gapminder, lifeExp <30, country == "Rwanda")
filter(gapminder, country == "Rwanda")
gapminder_low_lifeEXp <-
filter(gapminder, continent == "Africa", year < 1966, lifeExp < 40)
select(gapminder_low_lifeEXp, -continent)
gapminder2 <-
gapminder %>%
filter(continent == "Africa", year < 1966, lifeExp < 40) %>%
select(-continent)
gapminder2
just_usa
gapminder
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder
glimpse(gapminder)
filter(gapminder, country == "Rwanda")
data("gapminder")
head
head(data)
head(gapminder)
glimpse(gapminder)
filter(gapminder, lifeExp < 29)
filter(gapminder, country == "Rwanda")
filter(gapminder, continent == "Africa", year < 1966, lifeExp < 40)
filter(gapminder, continent == "Africa" & year < 1966 & lifeExp < 40)
filter(gapminder, country == "Afghanistan" | country == "Albania")
select(gapminder, year, lifeExp)
gapminder %>%
filter(., country == "Cambodia") %>%
select(., year, lifeExp) %>%
slice(.,1:2)
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder %>% glimpse()
gapminder
gapminder
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap) %>%
rename(usa_gdpPercap = gdpPercap)
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap)
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
filter(country == c("Canada")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel) %>%
glimpse()
gapminder %>%
filter(country == c("Mexico")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel) %>%
glimpse()
gapminder %>%
filter(country == c("Canada")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
filter(country == c("Mexico")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
arrange(year, country)
gapminder %>%
filter(year == 2007) %>%
arrange(- lifeExp)
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_gdpPercap = gdpPercap,
usa_lifeExp = lifeExp)
just_usa
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder
gapminder <-
left_join(gapminder, just_usa, by = c("year", "country"))
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
glimpse(gapminder)
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap) %>%
rename(usa_gdpPercap = gdpPercap)
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder
data("gapminder")
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap) %>%
rename(usa_gdpPercap = gdpPercap)
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap)
gapminder
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
filter(country == c("Canada")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
filter(country == c("Mexico")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
just_usa2 <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_gdpPercap = gdpPercap,
usa_lifeExp = lifeExp)
gapminder2 <-
left_join(gapminder, just_usa, by = c("year"))
gapminder2 <-
gapminder2 %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder2 <-
left_join(gapminder, just_usa2, by = c("year"))
gapminder2
gapminder
just_usa_life <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_lifeExp = lifeExp)
gapminder <-
left_join(gapminder, just_usa_life, by = c("year"))
gapminder
just_usa_life <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_lifeExp = lifeExp)
data("gapminder")
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap) %>%
rename(usa_gdpPercap = gdpPercap)
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap)
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
filter(country == c("Canada")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
filter(country == c("Mexico")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
arrange(year, country)
gapminder %>%
filter(year == 2007) %>%
arrange(- lifeExp)
just_usa_life <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_lifeExp = lifeExp)
gapminder <-
left_join(gapminder, just_usa_life, by = c("year"))
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap,
lifeExpRel = lifeExp / usa_lifeExp)
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder
data("gapminder")
filter(gapminder, lifeExp < 29)
filter(gapminder, country == "Rwanda")
gapminder <-
gapminder %>%
mutate(gdp = pop * gdpPercap)
gapminder
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap) %>%
rename(usa_gdpPercap = gdpPercap)
just_usa
gapminder <-
left_join(gapminder, just_usa, by = c("year"))
gapminder <-
gapminder %>%
mutate(gdpPercapRel = gdpPercap / usa_gdpPercap)
gapminder
gapminder %>%
select(gdpPercapRel) %>%
summary()
gapminder %>%
filter(country == c("Canada")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
filter(country == c("Mexico")) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
filter(country == "Mexico") %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
gapminder %>%
filter(country == "Mexico" | country == "Canada" ) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
df_NAFTA<-
gapminder %>%
filter(country == "Mexico" | country == "Canada" ) %>%
select(country, year, gdpPercap, usa_gdpPercap, gdpPercapRel)
View(df_NAFTA)
just_usa_life <- gapminder %>%
filter(country == "United States") %>%
select(year, lifeExp) %>%
rename(usa_lifeExp = lifeExp)
just_usa_life
gapminder <-
left_join(gapminder, just_usa_life, by = c("year"))
gapminder
gapminder <-
gapminder %>%
mutate(lifeExpRel = lifeExp / usa_lifeExp)
gapminder %>%
select(lifeExpRel) %>%
summary()
just_usa <- gapminder %>%
filter(country == "United States") %>%
select(year, gdpPercap, lifeExp) %>%
rename(usa_gdpPercap = gdpPercap,
usa_lifeExp = lifeExp)
just_usa
gapminder <-
inner_join(gapminder, just_usa, by = c("year"))
gapminder
glimpse(gapminder)
ggplot(gapminder, aes(x = gdpPercap, y = lifeExp))
p <- ggplot(gapminder, aes(x = gdpPercap, y = lifeExp))
p <- ggplot(gapminder, aes(x = gdpPercap, y = lifeExp))
p
p + geom_point()
p_l <- ggplot(gapminder, aes(x = log10(gdpPercap), y = lifeExp))
p_l + geom_point()
p + geom_point() + scale_x_log10()
p <- p + scale_x_log10()
p + geom_point(aes(color = continent))
ggplot(gapminder, aes(x = gdpPercap, y = lifeExp, color = continent)) +
geom_point() +
scale_x_log10()
p + geom_point(alpha = (1 / 3), size = 3)
p + geom_point() + geom_smooth()
p + geom_point() + geom_smooth(lwd = 2, se = FALSE)
p + geom_smooth(lwd = 1, se = FALSE, method = "lm") + geom_point()
p + aes(color = continent) + geom_point() + geom_smooth(lwd = 3, se = FALSE)
p + geom_point(alpha = (1 / 3), size = 3) + facet_wrap(~ continent)
p + geom_point(alpha = (1 / 3), size = 3) + facet_wrap(~ continent) +
geom_smooth(lwd = 2, se = FALSE)
ggplot(filter(gapminder, country == "United States"),
aes(x = year, y = lifeExp)) +
geom_line() +
geom_point()
some_countries <- c("United States", "Canada", "Rwanda", "Cambodia", "Mexico")
ggplot(filter(gapminder, country %in% some_countries),
aes(x = year, y = lifeExp, color = country)) +
geom_line() +
geom_point()
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~ continent) +
transition_time(year) +
theme_bw()
